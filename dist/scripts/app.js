"use strict";var _createClass=function(){function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ScrollSlider=function(){function i(e,t){_classCallCheck(this,i);this.logoTyper=new LogoTyper(".js-logotyper",".js-change-logo"),this.morphing=new NavMorphing,this.slider=e,this.slideElement=t,this.sliderElements=[],this.pushItems(),this.addScrollEvent(this),this.addClickEvent(this)}return _createClass(i,[{key:"pushItems",value:function(){var i=this;document.querySelectorAll(this.slideElement).forEach(function(e,t){0===(e.dataset.slideId=t)?i.sliderElements.push({item:e,id:t,visible:!0}):i.sliderElements.push({item:e,id:t,visible:!1})},this)}},{key:"setSlide",value:function(e){var t=document.querySelector(".js-slide.is-active").dataset.slideId,i=void 0,s=void 0;document.querySelector(".js-slide.is-active").dataset.content;if(t<e){i=e;var n=this.sliderElements[t],o=this.sliderElements[i];n.item.classList.remove("is-active"),n.item.classList.add("is-scrolling-down"),o.item.classList.add("is-scrolling-down--next"),o.item.classList.add("is-active"),n.visible=!1,o.visible=!0,setTimeout(function(){n.item.classList.remove("is-scrolling-down"),n.item.classList.remove("is-visible"),o.item.classList.remove("is-scrolling-down--next"),o.item.classList.add("is-visible")},1e3)}else if(e<t){s=e;var a=this.sliderElements[t],l=this.sliderElements[s];a.item.classList.add("is-scrolling-up"),a.item.classList.remove("is-active"),l.item.classList.add("is-scrolling-up--prev"),l.item.classList.add("is-active"),a.visible=!1,l.visible=!0,setTimeout(function(){a.item.classList.remove("is-scrolling-up"),a.item.classList.remove("is-visible"),l.item.classList.remove("is-scrolling-up--prev"),l.item.classList.add("is-visible")},1e3)}setTimeout(function(){"blue"===document.querySelector(".js-slide.is-active").dataset.bg?document.querySelector("body").classList.add("is-blue"):document.querySelector("body").classList.remove("is-blue")},300),this.setNavigation(e)}},{key:"setNavigation",value:function(e){var t=0===e?document.querySelector('.js-slide[data-slide-id="0"]').dataset.content:document.querySelector('.js-slide[data-slide-id="'+e+'"]').dataset.content,i=document.querySelector(".js-slider-navItem.is-active"),s=0!==e?document.querySelector('.js-slider-navItem[data-content="'+t+'"]').children:document.querySelector('.js-slider-navItem[data-slide-id="'+(e+1)+'"]').children;i&&(i.classList.remove("is-active"),this.morphing.toCircle(i.children[0])),"home"!==t?(document.querySelector('.js-slider-navItem[data-content="'+t+'"]').classList.add("is-active"),this.logoTyper.changeLogo(document.querySelector(".js-change-logo.is-active").dataset.changeLogo),this.morphing.toTriangle(s[0])):"home"===t&&(document.querySelector('.js-slider-navItem[data-slide-id="'+(e+1)+'"]').classList.remove("is-active"),this.logoTyper.changeLogo(document.querySelector(".js-logotyper").dataset.firstLogo),this.morphing.toCircle(s[0]))}},{key:"addScrollEvent",value:function(e){var l=e;window.addEventListener("load",function(){var o={wheeling:!1,functionCall:!1},a=!1;window.addEventListener("wheel",function(e){if(o.wheeling=!0,!o.functionCall){if(e.deltaY<0){var t=Number(document.querySelector(".js-slide.is-active").dataset.slideId),i=0===t?t:t-1;l.setSlide(i)}if(0<e.deltaY){var s=Number(document.querySelector(".js-slide.is-active").dataset.slideId),n=s===l.sliderElements.length-1?s:s+1;l.setSlide(n)}o.functionCall=!0}window.clearInterval(a),a=window.setTimeout(function(){o.wheeling=!1,o.functionCall=!1},200)})})}},{key:"addClickEvent",value:function(e){var i=e;document.querySelectorAll(".js-slider-navItem").forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=Number(this.dataset.slideId);i.setSlide(t)})})}}]),i}(),LogoTyper=function(){function i(e,t){_classCallCheck(this,i);this.morphing=new NavMorphing,this.mainElement=document.querySelector(e),this.randomLogos=["gorazd—design","gorazd—interactive","gorazd—coding"],this.changeLogoElements=document.querySelectorAll(t),this.firstLogo(this.mainElement.dataset.firstLogo),this.addHoverEvents(this)}return _createClass(i,[{key:"firstLogo",value:function(e){this.letterToArray(e)}},{key:"changeLogo",value:function(e){var t=Number.isInteger(e)?this.randomLogos[e]:e;this.letterToArray(t)}},{key:"letterToArray",value:function(e){for(var t=e,i=[],s=0;s<t.length;s++)i.push(t[s]);this.wrapLetter(i)}},{key:"wrapLetter",value:function(e){var s=[];e.forEach(function(e,t){var i="<span>"+e+"</span>";s.push(i)}),s=s.join(""),this.mainElement.innerHTML=s}},{key:"randomNumberLogo",value:function(){return Math.floor(Math.random()*this.randomLogos.length)}},{key:"addHoverEvents",value:function(e){var n=e;n.changeLogoElements.forEach(function(i,e){var s=i.children;i.addEventListener("mouseenter",function(e){var t=this.dataset.changeLogo;n.changeLogo(t),n.morphing.toSquare(s[0])}),i.addEventListener("mouseout",function(e){var t=n.mainElement.dataset.firstLogo;0===Number(document.querySelector(".js-slide.is-active").dataset.slideId)?n.changeLogo(t):Number(document.querySelector(".js-slide.is-active").dataset.slideId)===Number(document.querySelector(".js-change-logo.is-active").dataset.slideId)&&n.changeLogo(document.querySelector(".js-change-logo.is-active").dataset.changeLogo),i.classList.contains("is-active")?n.morphing.toTriangle(s[0]):n.morphing.toCircle(s[0])})}),document.querySelector(".js-logotyper-changelogo").addEventListener("mouseenter",function(e){var t=n.randomNumberLogo();n.changeLogo(t)}),document.querySelector(".js-logotyper-changelogo").addEventListener("mouseout",function(e){var t=n.mainElement.dataset.firstLogo;0===Number(document.querySelector(".js-slide.is-active").dataset.slideId)?n.changeLogo(t):Number(document.querySelector(".js-slide.is-active").dataset.slideId)===Number(document.querySelector(".js-change-logo.is-active").dataset.slideId)&&n.changeLogo(document.querySelector(".js-change-logo.is-active").dataset.changeLogo)})}}]),i}(),Gallery=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){document.querySelectorAll(".js-project-gallery").forEach(function(e,t){tns({container:e,items:1,mouseDrag:!0,lazyload:!0,nav:!1,controlsText:["",""],slideBy:"page"})})}}]),e}(),NavMorphing=function(){function t(e){_classCallCheck(this,t);this.svg,this.s,this.triangle,this.square,this.circle,this.trianglePoints="M1,6.35,11,.85v11Z",this.squarePoints="M.5.5h9v9H.5Z",this.circlePoints="M.5,5A4.5,4.5,0,1,1,5,9.5,4.5,4.5,0,0,1,.5,5Z"}return _createClass(t,[{key:"init",value:function(e){this.svg=e,this.s=Snap(this.svg),this.triangle=Snap.select("#"+e.getAttribute("id")+" .triangle"),this.square=Snap.select("#"+e.getAttribute("id")+" .square"),this.circle=Snap.select("#"+e.getAttribute("id")+" .circle")}},{key:"toSquare",value:function(e){this.init(e),this.circle.animate({d:this.squarePoints},500,mina.backout)}},{key:"toCircle",value:function(e){this.init(e),this.circle.animate({d:this.circlePoints},500,mina.backout)}},{key:"toTriangle",value:function(e){this.init(e),this.circle.animate({d:this.trianglePoints},500,mina.backout)}}]),t}(),logo=new LogoTyper(".js-logotyper",".js-change-logo"),slider=new ScrollSlider(".js-slider",".js-slide"),gallery=new Gallery;