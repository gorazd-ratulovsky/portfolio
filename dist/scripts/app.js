"use strict";var _createClass=function(){function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ScrollSlider=function(){function i(e,t){_classCallCheck(this,i);this.projectCounter=new ProjectCounter,this.logoTyper=new LogoTyper(".js-logotyper",".js-change-logo"),this.morphing=new NavMorphing,this.slider=e,this.slideElement=t,this.sliderElements=[],this.pushItems(),this.addScrollEvent(this),this.addClickEvent(this)}return _createClass(i,[{key:"pushItems",value:function(){var i=this;document.querySelectorAll(this.slideElement).forEach(function(e,t){0===(e.dataset.slideId=t)?i.sliderElements.push({item:e,id:t,visible:!0}):i.sliderElements.push({item:e,id:t,visible:!1})},this)}},{key:"setSlide",value:function(e,t){var i=document.querySelector(".js-slide.is-active").dataset.slideId,s=void 0,o=void 0;document.querySelector(".js-slide.is-active").dataset.content;if(i<e){s=e;var n=this.sliderElements[i],a=this.sliderElements[s];n.item.classList.remove("is-active"),n.item.classList.add("is-scrolling-down"),a.item.classList.add("is-scrolling-down--next"),a.item.classList.add("is-active"),n.visible=!1,a.visible=!0,setTimeout(function(){n.item.classList.remove("is-scrolling-down"),n.item.classList.remove("is-visible"),a.item.classList.remove("is-scrolling-down--next"),a.item.classList.add("is-visible")},1e3)}else if(e<i){o=e;var r=this.sliderElements[i],l=this.sliderElements[o];r.item.classList.add("is-scrolling-up"),r.item.classList.remove("is-active"),l.item.classList.add("is-scrolling-up--prev"),l.item.classList.add("is-active"),r.visible=!1,l.visible=!0,setTimeout(function(){r.item.classList.remove("is-scrolling-up"),r.item.classList.remove("is-visible"),l.item.classList.remove("is-scrolling-up--prev"),l.item.classList.add("is-visible")},1e3)}if(setTimeout(function(){"blue"===document.querySelector(".js-slide.is-active").dataset.bg?document.querySelector("body").classList.add("is-blue"):document.querySelector("body").classList.remove("is-blue")},300),"projects"===document.querySelector(".js-slide.is-active").dataset.content){this.projectCounter.toggleTemplate(!0),this.projectCounter.updateNumber(e-2)}else this.projectCounter.toggleTemplate(!1);"0"===document.querySelector(".js-slide.is-active").dataset.slideId?document.querySelector("body").classList.add("is-home"):document.querySelector("body").classList.remove("is-home"),this.setNavigation(e,t)}},{key:"setNavigation",value:function(e,t){var i=0===e?document.querySelector('.js-slide[data-slide-id="0"]').dataset.content:t,s=document.querySelector(".js-slider-navItem.is-active"),o=0!==e?document.querySelector('.js-slider-navItem[data-content="'+i+'"]').children:document.querySelector('.js-slider-navItem[data-slide-id="'+(e+1)+'"]').children;s&&(s.classList.remove("is-active"),this.morphing.toCircle(s.children[0])),"home"!==i?(document.querySelector('.js-slider-navItem[data-content="'+i+'"]').classList.add("is-active"),this.logoTyper.changeLogo(document.querySelector(".js-change-logo.is-active").dataset.changeLogo),this.morphing.toTriangle(o[0])):"home"===i&&(document.querySelector('.js-slider-navItem[data-slide-id="'+(e+1)+'"]').classList.remove("is-active"),this.logoTyper.changeLogo(document.querySelector(".js-logotyper").dataset.firstLogo),this.morphing.toCircle(o[0]))}},{key:"addScrollEvent",value:function(e){var c=e;window.addEventListener("load",function(){var r={wheeling:!1,functionCall:!1},l=!1;window.addEventListener("wheel",function(e){if(r.wheeling=!0,!r.functionCall){if(e.deltaY<0){var t=Number(document.querySelector(".js-slide.is-active").dataset.slideId),i=0===t?t:t-1,s=document.querySelector('.js-slide[data-slide-id="'+i+'"]').dataset.content;c.setSlide(i,s)}if(0<e.deltaY){var o=Number(document.querySelector(".js-slide.is-active").dataset.slideId),n=o===c.sliderElements.length-1?o:o+1,a=document.querySelector('.js-slide[data-slide-id="'+n+'"]').dataset.content;c.setSlide(n,a)}r.functionCall=!0}window.clearInterval(l),l=window.setTimeout(function(){r.wheeling=!1,r.functionCall=!1},200)})})}},{key:"addClickEvent",value:function(e){var s=e;document.querySelectorAll(".js-slider-navItem").forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=Number(this.dataset.slideId),i=this.dataset.content;s.setSlide(t,i)})})}}]),i}(),LogoTyper=function(){function i(e,t){_classCallCheck(this,i);this.morphing=new NavMorphing,this.mainElement=document.querySelector(e),this.randomLogos=["gorazd—design","gorazd—interactive","gorazd—coding"],this.changeLogoElements=document.querySelectorAll(t),this.firstLogo(this.mainElement.dataset.firstLogo),this.addHoverEvents(this)}return _createClass(i,[{key:"firstLogo",value:function(e){this.letterToArray(e)}},{key:"changeLogo",value:function(e){var t=Number.isInteger(e)?this.randomLogos[e]:e;this.letterToArray(t)}},{key:"letterToArray",value:function(e){for(var t=e,i=[],s=0;s<t.length;s++)i.push(t[s]);this.wrapLetter(i)}},{key:"wrapLetter",value:function(e){var s=[];e.forEach(function(e,t){var i="<span>"+e+"</span>";s.push(i)}),s=s.join(""),this.mainElement.innerHTML=s}},{key:"randomNumberLogo",value:function(){return Math.floor(Math.random()*this.randomLogos.length)}},{key:"addHoverEvents",value:function(e){var o=e;o.changeLogoElements.forEach(function(i,e){var s=i.children;i.addEventListener("mouseenter",function(e){var t=this.dataset.changeLogo;o.changeLogo(t),o.morphing.toSquare(s[0])}),i.addEventListener("mouseout",function(e){var t=o.mainElement.dataset.firstLogo;0===Number(document.querySelector(".js-slide.is-active").dataset.slideId)?o.changeLogo(t):Number(document.querySelector(".js-slide.is-active").dataset.slideId)===Number(document.querySelector(".js-change-logo.is-active").dataset.slideId)&&o.changeLogo(document.querySelector(".js-change-logo.is-active").dataset.changeLogo),i.classList.contains("is-active")?o.morphing.toTriangle(s[0]):o.morphing.toCircle(s[0])})}),document.querySelector(".js-logotyper-changelogo").addEventListener("mouseenter",function(e){var t=o.randomNumberLogo();o.changeLogo(t)}),document.querySelector(".js-logotyper-changelogo").addEventListener("mouseout",function(e){var t=o.mainElement.dataset.firstLogo;0===Number(document.querySelector(".js-slide.is-active").dataset.slideId)?o.changeLogo(t):Number(document.querySelector(".js-slide.is-active").dataset.slideId)===Number(document.querySelector(".js-change-logo.is-active").dataset.slideId)&&o.changeLogo(document.querySelector(".js-change-logo.is-active").dataset.changeLogo)})}}]),i}(),Gallery=function(){function e(){_classCallCheck(this,e),this.init()}return _createClass(e,[{key:"init",value:function(){document.querySelectorAll(".js-project-gallery").forEach(function(e,t){tns({container:e,items:1,mouseDrag:!0,lazyload:!0,nav:!1,controlsText:["",""],slideBy:"page"})})}}]),e}(),NavMorphing=function(){function t(e){_classCallCheck(this,t);this.svg,this.s,this.triangle,this.square,this.circle,this.trianglePoints="M1,6.35,11,.85v11Z",this.squarePoints="M.5.5h9v9H.5Z",this.circlePoints="M.5,5A4.5,4.5,0,1,1,5,9.5,4.5,4.5,0,0,1,.5,5Z"}return _createClass(t,[{key:"init",value:function(e){this.svg=e,this.s=Snap(this.svg),this.triangle=Snap.select("#"+e.getAttribute("id")+" .triangle"),this.square=Snap.select("#"+e.getAttribute("id")+" .square"),this.circle=Snap.select("#"+e.getAttribute("id")+" .circle")}},{key:"toSquare",value:function(e){this.init(e),this.circle.animate({d:this.squarePoints},500,mina.backout)}},{key:"toCircle",value:function(e){this.init(e),this.circle.animate({d:this.circlePoints},500,mina.backout)}},{key:"toTriangle",value:function(e){this.init(e),this.circle.animate({d:this.trianglePoints},500,mina.backout)}}]),t}(),ProjectCounter=function(){function e(){_classCallCheck(this,e),this.projects=document.querySelectorAll(".js-slide[data-project-id]"),this.projectsId=[],this.init(),this.template(),console.log(this.projectsId)}return _createClass(e,[{key:"init",value:function(){var s=this;this.projects.forEach(function(e,t){var i=e.dataset.projectId;s.projectsId.push(i)})}},{key:"template",value:function(){document.querySelector(".l-header").innerHTML+="<div class='l-header__projects js-projects-tmpl'>[<span class=\"js-current-project\">"+this.projectsId[0]+"</span> / "+this.projectsId[this.projects.length-1]+"]</div>"}},{key:"toggleTemplate",value:function(e){e?document.querySelector(".js-projects-tmpl").classList.add("is-active"):document.querySelector(".js-projects-tmpl").classList.remove("is-active")}},{key:"updateNumber",value:function(e){document.querySelector(".js-current-project").innerHTML=this.projectsId[e]}}]),e}(),slider=new ScrollSlider(".js-slider",".js-slide"),gallery=new Gallery;